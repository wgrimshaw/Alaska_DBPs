---
title: "Data Wrangling"
author: "All of us"
date: "10/30/2019"
output: pdf_document
geometry: margin=2.54cm
editor_options: 
  chunk_output_type: console
---
## R Markdown

#Obtain Alaskan Data
```{r}
library(tidyverse)
library(dataRetrieval)


AlaskaSites_RAW <- whatNWISsites(stateCd="02", parameterCd = "00060")
```


```{r}
## Filter Alaska sites for streams
AlaskaSites_Stream <- AlaskaSites_RAW %>%
  filter(site_tp_cd=="ST")

## Latitude bin size in degrees
Lat_Step <- (max(AlaskaSites_Stream$dec_lat_va) - 
               min(AlaskaSites_Stream$dec_lat_va))/10

## Create a new column with latitude bin
AlaskaSites_Stream <- AlaskaSites_Stream %>%
  mutate(Latitude_Bin = floor(((dec_lat_va - min(dec_lat_va))/Lat_Step)+1))

## Write site list to csv
write.csv(AlaskaSites_Stream, "../DATA/PROCESSED/Alaska_Streamflow_Sites.csv")

## Bin Assignments
## Gaby = 5
## Tristen = 6 & 7
## Yixin = 1-3
## Walker = 8-11 & 4

## Filter code
Alaska_Gaby <- filter(AlaskaSites_Stream, Latitude_Bin == 5)
```

```{r}
## Period of record

```


## Bin width
```{r}
(max(AlaskaSites$dec_lat_va)-min(AlaskaSites$dec_lat_va))/10
```

## Assign Bin Width Value to a Variable
```{r}
AlaskaBin<-2.002339
```

```{r}
levels(AlaskaSites$site_tp_cd)
AlaskaSites$site_tp_cd<-as.factor(AlaskaSites$site_tp_cd)
```

```{r}
class(AlaskaSites$site_tp_cd)

```

```{r}
levels(AlaskaSites$site_tp_cd)
```


```{r}
AlaskaSites<-filter(AlaskaSites, site_tp_cd=="ST")
```




